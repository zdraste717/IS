{% load static %}
<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Профиль студента</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="{% static 'achiev.css' %}">
  </head>

  <body class="bg-light">
    <div class="container py-5">
      <div class="row justify-content-center">
        <div class="col-md-10">
          <div class="card shadow-lg rounded-4 position-relative p-4">
            <!-- Кнопка Выйти -->
            <a href="../auto/index.html" class="btn btn-outline-danger position-absolute top-0 end-0 m-3">Выйти</a>

            <!-- Блок профиля -->
            <div class="d-flex align-items-center gap-4 mb-4">
              <img src="{% static 'achiev_photo/icon.jpg' %}" alt="Аватар" class="rounded-circle" style="width: 120px; height: 120px; object-fit: cover;" />
              <div>
                <h3 class="fw-bold mb-1">Иван Петров</h3>
                <p class="mb-1 text-muted">Студент 4 курса</p>
                <p class="mb-1">Факультет: Информационные технологии</p>
                <p class="mb-1">Группа: ИСАУ-41</p>
              </div>
            </div>

            <hr class="my-4" />

            <!-- Карточки-достижения -->
            <div class="row g-3 mb-3">
              <div class="col-md-4">
                <div class="card section-tile text-center py-3" onclick="showSection('science')">
                  <h6 class="mb-0">Научные достижения</h6>
                </div>
              </div>
              <div class="col-md-4">
                <div class="card section-tile text-center py-3" onclick="showSection('sport')">
                  <h6 class="mb-0">Спортивные достижения</h6>
                </div>
              </div>
              <div class="col-md-4">
                <div class="card section-tile text-center py-3" onclick="showSection('creative')">
                  <h6 class="mb-0">Творческие достижения</h6>
                </div>
              </div>
              <div class="col-md-4">
                <div class="card section-tile text-center py-3" onclick="showSection('various_level')">
                  <h6 class="mb-0">Различный уровень</h6>
                </div>
              </div>
              <div class="col-md-4">
                <div class="card section-tile text-center py-3" onclick="showSection('publication')">
                  <h6 class="mb-0">Публикации</h6>
                </div>
              </div>
              <div class="col-md-4">
                <div class="card section-tile text-center py-3" onclick="showSection('s_government')">
                  <h6 class="mb-0">Студенческое самоуправление</h6>
                </div>
              </div>
              <div class="col-md-4">
                <div class="card section-tile text-center py-3" onclick="showSection('other_achiev')">
                  <h6 class="mb-0">Иные достижения</h6>
                </div>
              </div>
              <div class="col-md-4">
                <div class="card section-tile text-center py-3" onclick="showSection('add_program')">
                  <h6 class="mb-0">Освоение доп. программ</h6>
                </div>
              </div>
              <div class="col-md-4">
                <div class="card section-tile text-center py-3" onclick="showSection('experience')">
                  <h6 class="mb-0">Опыт работы</h6>
                </div>
              </div>
            </div>

            <!-- Научные достижения -->
            <div id="science" class="achievement-section d-none mt-4">
              <h5 class="fw-bold mb-3">Научные достижения</h5>
              <div class="accordion" id="scienceAccordion">
                {% for item in scienes %}
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="headingScience{{ forloop.counter }}"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseScience{{ forloop.counter }}">Проект: {{ item.p_name }}</button></h2>
                    <div id="collapseScience{{ forloop.counter }}" class="accordion-collapse collapse" data-bs-parent="#scienceAccordion">
                      <div class="accordion-body">
                        <p>
                          <strong>Название НИР:</strong> {{ item.srw_name }}
                        </p>
                        <p>
                          <strong>Заказчик:</strong> {{ item.customer }}
                        </p>
                        <p>
                          <strong>Уровень программы:</strong> {{ item.l_programm }}
                        </p>
                        <p>
                          <strong>Название проекта:</strong> {{ item.p_name }}
                        </p>
                        <p>
                          <strong>Дата начала:</strong> {{ item.s_date }}
                        </p>
                        <p>
                          <strong>Дата окончания:</strong> {{ item.f_date }}
                        </p>
                        <p>
                          <strong>Результат:</strong> {{ item.result }}
                        </p>
                      </div>
                    </div>
                  </div>
                {% empty %}
                  <p>Нет данных.</p>
                {% endfor %}
              </div>
            </div>

            <!-- Спортивные достижения -->
            <div id="sport" class="achievement-section d-none mt-4">
              <h5 class="fw-bold mb-3">Спортивные достижения</h5>
              <div class="accordion" id="sportAccordion">
                {% for item in sport %}
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="headingSport{{ forloop.counter }}"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSport{{ forloop.counter }}">Вид спорта: {{ item.sport_t }}</button></h2>
                    <div id="collapseSport{{ forloop.counter }}" class="accordion-collapse collapse" data-bs-parent="#sportAccordion">
                      <div class="accordion-body">
                        <p>
                            <strong>Вид спорта:</strong> {{ item.sport_t }}
                          <p>
                        <p>
                          <strong>Соревнование:</strong> {{ item.compet }}
                        </p>
                        <p>
                          <strong>Дата:</strong> {{ item.date_c }}
                        </p>
                        <p>
                          <strong>Примечание:</strong> {{ item.note }}
                        </p>
                      </div>
                    </div>
                  </div>
                {% empty %}
                  <p>Нет данных.</p>
                {% endfor %}
              </div>
            </div>

            <div id="creative" class="achievement-section d-none mt-4">
              <h5 class="fw-bold mb-3">Творческие достижения</h5>
              <div class="accordion" id="creativeAccordion">
                {% for item in creation %}
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="headingCreative{{ forloop.counter }}"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseCreative{{ forloop.counter }}">{{ item.activity_t }}</button></h2>
                    <div id="collapseCreative{{ forloop.counter }}" class="accordion-collapse collapse" data-bs-parent="#creativeAccordion">
                      <div class="accordion-body">
                        <p>
                          <strong>Вид деятельности:</strong> {{ item.activity_t }}
                        </p>
                        <p>
                          <strong>Участие в фестивалях:</strong> {{ item.part_fest }}
                        </p>
                        <p>
                          <strong>Дата:</strong> {{ item.date_f }}
                        </p>
                        <p>
                          <strong>Примечание:</strong> {{ item.note }}
                        </p>
                      </div>
                    </div>
                  </div>
                {% empty %}
                  <p>Нет данных.</p>
                {% endfor %}
              </div>
            </div>

            <div id="various_level" class="achievement-section d-none mt-4">
              <h5 class="fw-bold mb-3">Различный уровень</h5>
              <div class="accordion" id="variousAccordion">
                {% for item in various_level %}
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="headingVarious{{ forloop.counter }}"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseVarious{{ forloop.counter }}">{{ item.name_e }}</button></h2>
                    <div id="collapseVarious{{ forloop.counter }}" class="accordion-collapse collapse" data-bs-parent="#variousAccordion">
                      <div class="accordion-body">
                        <p>
                          <strong>Вид мероприятия:</strong> {{ item.event_t }}
                        </p>
                        <p>
                          <strong>Уровень:</strong> {{ item.level_e }}
                        </p>
                        <p>
                          <strong>Название мероприятия:</strong> {{ item.name_e }}
                        </p>
                        <p>
                          <strong>Место проведения:</strong> {{ item.venue }}
                        </p>
                        <p>
                          <strong>Дата:</strong> {{ item.date_e }}
                        </p>
                        <p>
                          <strong>Результат:</strong> {{ item.result }}
                        </p>
                      </div>
                    </div>
                  </div>
                {% empty %}
                  <p>Нет данных.</p>
                {% endfor %}
              </div>
            </div>

            <div id="publication" class="achievement-section d-none mt-4">
              <h5 class="fw-bold mb-3">Публикации</h5>
              <div class="accordion" id="publicAccordion">
                {% for item in publication %}
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="headingPub{{ forloop.counter }}"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapsePub{{ forloop.counter }}">{{ item.fname_work }}</button></h2>
                    <div id="collapsePub{{ forloop.counter }}" class="accordion-collapse collapse" data-bs-parent="#publicAccordion">
                      <div class="accordion-body">
                        <p>
                          <strong>Соавторы:</strong> {{ item.coauthors }}
                        </p>
                        <p>
                          <strong>Полное название работы:</strong> {{ item.fname_work }}
                        </p>
                        <p>
                          <strong>Выходные данные:</strong> {{ item.output_d }}
                        </p>
                        <p>
                          <strong>Форма работы:</strong> {{ item.form_w }}
                        </p>
                        <p>
                          <strong>Тип издания:</strong> {{ item.public_t }}
                        </p>
                        <p>
                          <strong>Входит в ВАК/РИНЦ:</strong> {{ item.article_inc }}
                        </p>
                      </div>
                    </div>
                  </div>
                {% empty %}
                  <p>Нет данных.</p>
                {% endfor %}
              </div>
            </div>

            <div id="s_government" class="achievement-section d-none mt-4">
              <h5 class="fw-bold mb-3">Студенческое самоуправление</h5>
              <div class="accordion" id="governmentAccordion">
                {% for item in student_government %}
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="headingGov{{ forloop.counter }}"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseGov{{ forloop.counter }}">{{ item.activity_t }}</button></h2>
                    <div id="collapseGov{{ forloop.counter }}" class="accordion-collapse collapse" data-bs-parent="#governmentAccordion">
                      <div class="accordion-body">
                        <p>
                          <strong>Орган:</strong> {{ item.body_g }}
                        </p>
                        <p>
                          <strong>Вид деятельности:</strong> {{ item.activity_t }}
                        </p>
                        <p>
                          <strong>Период:</strong> {{ item.activity_per }}
                        </p>
                        <p>
                          <strong>Примечание:</strong> {{ item.note }}
                        </p>
                      </div>
                    </div>
                  </div>
                {% empty %}
                  <p>Нет данных.</p>
                {% endfor %}
              </div>
            </div>

            <div id="other_achiev" class="achievement-section d-none mt-4">
              <h5 class="fw-bold mb-3">Иные достижения</h5>
              <div class="accordion" id="otherAccordion">
                {% for item in other_achiev %}
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="headingOther{{ forloop.counter }}"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOther{{ forloop.counter }}">{{ item.activity_t }}</button></h2>
                    <div id="collapseOther{{ forloop.counter }}" class="accordion-collapse collapse" data-bs-parent="#otherAccordion">
                      <div class="accordion-body">
                        <p>
                          <strong>Вид деятельности:</strong> {{ item.activity_t }}
                        </p>
                        <p>
                          <strong>Достижение:</strong> {{ item.achiev }}
                        </p>
                        <p>
                          <strong>Дата:</strong> {{ item.date_o }}
                        </p>
                        <p>
                          <strong>Примечание:</strong> {{ item.note }}
                        </p>
                      </div>
                    </div>
                  </div>
                {% empty %}
                  <p>Нет данных.</p>
                {% endfor %}
              </div>
            </div>

            <div id="add_program" class="achievement-section d-none mt-4">
              <h5 class="fw-bold mb-3">Освоение доп. программ</h5>
              <div class="accordion" id="addAccordion">
                {% for item in add_programm %}
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="headingAdd{{ forloop.counter }}"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseAdd{{ forloop.counter }}">{{ item.name_p }}</button></h2>
                    <div id="collapseAdd{{ forloop.counter }}" class="accordion-collapse collapse" data-bs-parent="#addAccordion">
                      <div class="accordion-body">
                        <p>
                          <strong>Название программы:</strong> {{ item.name_p }}
                        </p>
                        <p>
                          <strong>Вид обучения:</strong> {{ item.education_t }}
                        </p>
                        <p>
                          <strong>Часы:</strong> {{ item.hours }}
                        </p>
                        <p>
                          <strong>Сроки:</strong> {{ item.terms }}
                        </p>
                        <p>
                          <strong>Место обучения:</strong> {{ item.education_p }}
                        </p>
                        <p>
                          <strong>Документ:</strong> {{ item.name_d }}
                        </p>
                      </div>
                    </div>
                  </div>
                {% empty %}
                  <p>Нет данных.</p>
                {% endfor %}
              </div>
            </div>

            <div id="experience" class="achievement-section d-none mt-4">
              <h5 class="fw-bold mb-3">Опыт работы</h5>
              <div class="accordion" id="experienceAccordion">
                {% for item in experience %}
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="headingExp{{ forloop.counter }}"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExp{{ forloop.counter }}">{{ item.place_w }}</button></h2>
                    <div id="collapseExp{{ forloop.counter }}" class="accordion-collapse collapse" data-bs-parent="#experienceAccordion">
                      <div class="accordion-body">
                        <p>
                          <strong>Место работы:</strong> {{ item.place_w }}
                        </p>
                        <p>
                          <strong>Вид работы:</strong> {{ item.work_t }}
                        </p>
                        <p>
                          <strong>Должность:</strong> {{ item.title_j }}
                        </p>
                        <p>
                          <strong>Сроки:</strong> {{ item.deadlines }}
                        </p>
                        <p>
                          <strong>Обязанности:</strong> {{ item.respons }}
                        </p>
                      </div>
                    </div>
                  </div>
                {% empty %}
                  <p>Нет данных.</p>
                {% endfor %}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- JS -->
    <script src="{% static 'showSection.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
